<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width"/><meta name="theme-color" content="#1976d2"/><title class="jsx-cbfd42e26539136">Typescript and JSS</title><link rel="icon" href="/zdns.svg" class="jsx-cbfd42e26539136"/><meta name="next-head-count" content="5"/><meta name="theme-color" content="#90caf9"/><link rel="preload" href="/_next/static/css/ef46db3751d8e999.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ef46db3751d8e999.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-fcec467324f41dbb.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-7c9e8fd8226b6573.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0617cd64ea924586.js" defer=""></script><script src="/_next/static/chunks/505-0c2bccf53cd8dae5.js" defer=""></script><script src="/_next/static/chunks/pages/%5Brule%5D-b74fec192cf33e56.js" defer=""></script><script src="/_next/static/V190Mxkh11cN1_jT2mDz7/_buildManifest.js" defer=""></script><script src="/_next/static/V190Mxkh11cN1_jT2mDz7/_ssgManifest.js" defer=""></script><script src="/_next/static/V190Mxkh11cN1_jT2mDz7/_middlewareManifest.js" defer=""></script><style id="__jsx-4ab09977da39fd03">.container.jsx-cbfd42e26539136{min-height:100vh;padding:0 .5rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}main.jsx-cbfd42e26539136{padding:5rem 0;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}footer.jsx-cbfd42e26539136{width:100%;height:100px;border-top:1px solid#eaeaea;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}footer.jsx-cbfd42e26539136 img.jsx-cbfd42e26539136{margin-left:.5rem}footer.jsx-cbfd42e26539136 a.jsx-cbfd42e26539136{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}a.jsx-cbfd42e26539136{color:inherit;text-decoration:none}.title.jsx-cbfd42e26539136 a.jsx-cbfd42e26539136{color:#0070f3;text-decoration:none}.title.jsx-cbfd42e26539136 a.jsx-cbfd42e26539136:hover,.title.jsx-cbfd42e26539136 a.jsx-cbfd42e26539136:focus,.title.jsx-cbfd42e26539136 a.jsx-cbfd42e26539136:active{text-decoration:underline}.title.jsx-cbfd42e26539136{margin:0;line-height:1.15;font-size:4rem}.title.jsx-cbfd42e26539136,.description.jsx-cbfd42e26539136{text-align:center}.description.jsx-cbfd42e26539136{line-height:1.5;font-size:1.5rem}code.jsx-cbfd42e26539136{background:#fafafa;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:.75rem;font-size:1.1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.grid.jsx-cbfd42e26539136{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:800px;margin-top:3rem}.card.jsx-cbfd42e26539136{margin:1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1.5rem;text-align:left;color:inherit;text-decoration:none;border:1px solid#eaeaea;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;-webkit-transition:color.15s ease,border-color.15s ease;-moz-transition:color.15s ease,border-color.15s ease;-o-transition:color.15s ease,border-color.15s ease;transition:color.15s ease,border-color.15s ease}.card.jsx-cbfd42e26539136:hover,.card.jsx-cbfd42e26539136:focus,.card.jsx-cbfd42e26539136:active{color:#0070f3;border-color:#0070f3}.card.jsx-cbfd42e26539136 h3.jsx-cbfd42e26539136{margin:0 0 1rem 0;font-size:1.5rem}.card.jsx-cbfd42e26539136 p.jsx-cbfd42e26539136{margin:0;font-size:1.25rem;line-height:1.5}.logo.jsx-cbfd42e26539136{height:1em}@media(max-width:600px){.grid.jsx-cbfd42e26539136{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}</style><style id="__jsx-5750d7069672f50d">html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}</style><style data-emotion="css "></style></head><body><div id="__next" data-reactroot=""><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><div class="jsx-cbfd42e26539136 container"><main class="jsx-cbfd42e26539136"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 css-aoeo82"><h1><code>prefer-reduce-type-parameter</code></h1>
<p>Prefer using type parameter when calling <code>Array#reduce</code> instead of casting.</p>
<p>It&#x27;s common to call <code>Array#reduce</code> with a generic type, such as an array or object, as the initial value.
Since these values are empty, their types are not usable:</p>
<ul>
<li><code>[]</code> has type <code>never[]</code>, which can&#x27;t have items pushed into it as nothing is type <code>never</code></li>
<li><code>{}</code> has type <code>{}</code>, which doesn&#x27;t have an index signature and so can&#x27;t have properties added to it</li>
</ul>
<p>A common solution to this problem is to cast the initial value. While this will work, it&#x27;s not the most optimal
solution as casting has subtle effects on the underlying types that can allow bugs to slip in.</p>
<p>A better (and lesser known) solution is to pass the type in as a generic parameter to <code>Array#reduce</code> explicitly.
This means that TypeScript doesn&#x27;t have to try to infer the type, and avoids the common pitfalls that come with casting.</p>
<h2>Rule Details</h2>
<p>This rule looks for calls to <code>Array#reduce</code>, and warns if an initial value is being passed &amp; casted,
suggesting instead to pass the cast type to <code>Array#reduce</code> as its generic parameter.</p>
<p>Examples of code for this rule:</p>
<!-- -->&lt;!--tabs--&gt;<!-- -->
<h3>‚ùå Incorrect</h3>
<pre><code class="language-ts">[1, 2, 3].reduce((arr, num) =&gt; arr.concat(num * 2), [] as number[]);

[&#x27;a&#x27;, &#x27;b&#x27;].reduce(
  (accum, name) =&gt; ({
    ...accum,
    [name]: true,
  }),
  {} as Record&lt;string, boolean&gt;,
);
</code></pre>
<h3>‚úÖ Correct</h3>
<pre><code class="language-ts">[1, 2, 3].reduce&lt;number[]&gt;((arr, num) =&gt; arr.concat(num * 2), []);

[&#x27;a&#x27;, &#x27;b&#x27;].reduce&lt;Record&lt;string, boolean&gt;&gt;(
  (accum, name) =&gt; ({
    ...accum,
    [name]: true,
  }),
  {},
);
</code></pre>
<h2>Options</h2>
<p>There are no options.</p>
<h2>When Not To Use It</h2>
<p>If you don&#x27;t want to use typechecking in your linting, you can&#x27;t use this rule.</p>
<h2>Attributes</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""/> <!-- -->‚úÖ Recommended</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->üîß Fixable</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> <!-- -->üí≠ Requires type information</li>
</ul></div></main><footer class="jsx-cbfd42e26539136"><a href="https://cloud.zdns.cn" target="_blank" rel="noopener noreferrer" class="jsx-cbfd42e26539136">Powered by <img src="/zdns.svg" alt="zdns" class="jsx-cbfd42e26539136 logo"/></a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"rule":"# `prefer-reduce-type-parameter`\n\nPrefer using type parameter when calling `Array#reduce` instead of casting.\n\nIt's common to call `Array#reduce` with a generic type, such as an array or object, as the initial value.\nSince these values are empty, their types are not usable:\n\n- `[]` has type `never[]`, which can't have items pushed into it as nothing is type `never`\n- `{}` has type `{}`, which doesn't have an index signature and so can't have properties added to it\n\nA common solution to this problem is to cast the initial value. While this will work, it's not the most optimal\nsolution as casting has subtle effects on the underlying types that can allow bugs to slip in.\n\nA better (and lesser known) solution is to pass the type in as a generic parameter to `Array#reduce` explicitly.\nThis means that TypeScript doesn't have to try to infer the type, and avoids the common pitfalls that come with casting.\n\n## Rule Details\n\nThis rule looks for calls to `Array#reduce`, and warns if an initial value is being passed \u0026 casted,\nsuggesting instead to pass the cast type to `Array#reduce` as its generic parameter.\n\nExamples of code for this rule:\n\n\u003c!--tabs--\u003e\n\n### ‚ùå Incorrect\n\n```ts\n[1, 2, 3].reduce((arr, num) =\u003e arr.concat(num * 2), [] as number[]);\n\n['a', 'b'].reduce(\n  (accum, name) =\u003e ({\n    ...accum,\n    [name]: true,\n  }),\n  {} as Record\u003cstring, boolean\u003e,\n);\n```\n\n### ‚úÖ Correct\n\n```ts\n[1, 2, 3].reduce\u003cnumber[]\u003e((arr, num) =\u003e arr.concat(num * 2), []);\n\n['a', 'b'].reduce\u003cRecord\u003cstring, boolean\u003e\u003e(\n  (accum, name) =\u003e ({\n    ...accum,\n    [name]: true,\n  }),\n  {},\n);\n```\n\n## Options\n\nThere are no options.\n\n## When Not To Use It\n\nIf you don't want to use typechecking in your linting, you can't use this rule.\n\n## Attributes\n\n- [ ] ‚úÖ Recommended\n- [x] üîß Fixable\n- [x] üí≠ Requires type information\n"},"__N_SSG":true},"page":"/[rule]","query":{"rule":"prefer-reduce-type-parameter.md"},"buildId":"V190Mxkh11cN1_jT2mDz7","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>