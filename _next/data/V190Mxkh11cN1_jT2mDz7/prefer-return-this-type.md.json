{"pageProps":{"rule":"# `prefer-return-this-type`\n\nEnforce that `this` is used when only `this` type is returned.\n\n[Method chaining](https://en.wikipedia.org/wiki/Method_chaining) is a common pattern in OOP languages and TypeScript provides a special [polymorphic this type](https://www.typescriptlang.org/docs/handbook/2/classes.html#this-types).\nIf any type other than `this` is specified as the return type of these chaining methods, TypeScript will fail to cast it when invoking in subclass.\n\n```ts\nclass Animal {\n  eat(): Animal {\n    console.log(\"I'm moving!\");\n    return this;\n  }\n}\n\nclass Cat extends Animal {\n  meow(): Cat {\n    console.log('Meow~');\n    return this;\n  }\n}\n\nconst cat = new Cat();\n// Error: Property 'meow' does not exist on type 'Animal'.\n// because `eat` returns `Animal` and not all animals meow.\ncat.eat().meow();\n\n// the error can be fixed by removing the return type of `eat` or use `this` as the return type.\nclass Animal {\n  eat(): this {\n    console.log(\"I'm moving!\");\n    return this;\n  }\n}\n\nclass Cat extends Animal {\n  meow(): this {\n    console.log('Meow~');\n    return this;\n  }\n}\n\nconst cat = new Cat();\n// no errors. Because `eat` returns `Cat` now\ncat.eat().meow();\n```\n\n## Rule Details\n\nExamples of code for this rule:\n\n<!--tabs-->\n\n### âŒ Incorrect\n\n```ts\nclass Foo {\n  f1(): Foo {\n    return this;\n  }\n  f2 = (): Foo => {\n    return this;\n  };\n  f3(): Foo | undefined {\n    return Math.random() > 0.5 ? this : undefined;\n  }\n}\n```\n\n### âœ… Correct\n\n```ts\nclass Foo {\n  f1(): this {\n    return this;\n  }\n  f2() {\n    return this;\n  }\n  f3 = (): this => {\n    return this;\n  };\n  f4 = () => {\n    return this;\n  };\n}\n\nclass Base {}\nclass Derived extends Base {\n  f(): Base {\n    return this;\n  }\n}\n```\n\n## When Not To Use It\n\nIf you don't use method chaining or explicit return values, you can safely turn this rule off.\n\n## Attributes\n\n- [ ] âœ… Recommended\n- [x] ðŸ”§ Fixable\n- [x] ðŸ’­ Requires type information\n"},"__N_SSG":true}